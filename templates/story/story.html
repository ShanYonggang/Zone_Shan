{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}网站更新 | 大圣的专属空间{% endblock %}
{% block content %}
<script>
    window.onload=function(){
        //定时器每秒调用一次fnDate()
        setInterval(function(){
            fnDate();
        },1000);
    }
    //js 获取当前时间
    function fnDate(){
    var oDiv=document.getElementById("time");
    var date=new Date();
    var a = ["日", "一", "二", "三", "四", "五", "六"];
    var week = new Date().getDay();
    var year=date.getFullYear();//当前年份
    var month=date.getMonth();//当前月份
    var data=date.getDate();//天
    var hours=date.getHours();//小时
    var minute=date.getMinutes();//分
    var second=date.getSeconds();//秒
    var time=year+"-"+fnW((month+1))+"-"+fnW(data)+" "+fnW(hours)+":"+fnW(minute)+":"+fnW(second)+'  星期'+a[week];
    oDiv.innerHTML=time;
    }
    //补位 当某个字段不是两位数时补0
    function fnW(str){
        var num;
        str>=10?num=str:num="0"+str;
        return num;
    }
</script>
<style>
	.content{
		margin-left: auto;
		width: 100%;
		margin-right: auto;
		max-width: 1140px;
		border: 1px solid #e7e7e7;
		border-radius: 20px;
	}
	#newslist{
		margin-left: 5%;
		padding: 10px 0 10px 2%;
		border-left: #e7e7e7 1px solid;
	}
	#newslist li{
		color: #666;
	}
	#newslist li b{
		padding-top: 5px;
		padding-bottom: 5px;
	}
	#newslist li b:hover{
		color: chocolate;
	}
</style>
<div class="content">
	<div id="page">
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<h2>Hello!</h2>
					<h3><div id="time"></div></h3>
					<p style="margin-top: 10px;">This is the development of my website...</p>
				</div>
			</div>
		</div>
		<hr>
		<div class="container">
			<div class="row">
				<div class="col-md-8 fh5co-heading animate-box" style="padding-left: 0">
					<h4 style="border-left: 3px solid chocolate;padding: 8px 0 8px 3%"><strong>网站更新内容</strong></h4>
					<div id="newslist">
						<ol>
							{% for news in news_list %}
							<li>
								<b>&nbsp<i class="far fa-circle" style="margin-left: -4%;padding-right: 1%"></i>{{ news.story_time|date:'Y-m-d'}}</b>
								<br>
								<span>{{ news.story_text|safe }}</span>
							</li>
							{% endfor %}
						</ol>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}

